# CaffemochaY's AviUtl Scripts

自作のAviUtlスクリプトたちです

## ダウンロード/インストール方法

右上の`Code`の`Download ZIP`からDLして、`script`フォルダの中身をスクリプトが機能する場所に置いてください

## 各種スクリプトの説明

スクリプトファイルの先頭にコメントで説明文が記載してあります  
markdownみたいな書き方をしているので、コピペしてmarkdownにして見るといいかもしれません

---

## リスト

### ソフトフォーカス

- `ソフトフォーカス.anm`

  - いわゆる**ソフトフォーカス加工**ができる
    - 画像(立ち絵、背景など)を柔らかい雰囲気にする
    - ついでに立体っぽさを演出出来るかも
    - 影の雰囲気や線の固さが主に変化する

  - 重ねる画像のみに色調補正や単色化をかけられるようにした

  - <details><summary>スクリプト内説明</summary>

    ---

    ソフトフォーカス.anm / ver.2  
    Copyright (c) 2022 CaffemochaY

    - 立ち絵等の画像を柔らかい雰囲気にします  
    - ついでに立体っぽさを演出出来るかもしれません  
    - 影の雰囲気や線の固さが主に変化します

    "ぼかし", "拡散光", "単色化", "色調補正" の順番でエフェクトをかけます

    - parameter
      - alpha : エフェクトをかけたものの透明度(適応する強さに相当)
      - その他 : "ぼかし", "拡散光", "単色化", "色調補正" のパラメータ各種

    - 注意
      - `X,Y調整` は、絶対値が `"最大画像サイズ" - w(or h) - (blur_range + diffusion) * 2`より小さくなるようにしないと元画像がクリッピングされます
      - `合成モード(0-12)` のうち、`10`,`11`,`12`はうまくいかない場合があります
        - 詳細は `lua.txt` を見て下さい

    - changelog
      - ver.2
        - obj.copybufferを使わないようにした
        - 画像データのキャッシュ数を `0` にしても機能するようにした
        - 各種パラメータが `0` の時、パラメータが `0` の一部のエフェクトを無効化し、動作を軽量化した

    </details>

### グラデーション縁取り＋

- `グラデーション縁取り＋.anm`

  - **グラデーションが付いた縁取り**ができる
  - **半透明縁取り**もできる
    - [rikky_module.dll](https://hazumurhythm.com/a/a2Z/)を導入していれば、ファイル選択ダイアログが出せる

  - <details><summary>スクリプト内説明</summary>

    ---

    グラデーション縁取り＋.anm / ver.2  
    Copyright (c) 2022 CaffemochaY

    グラデーションがかかった縁取りを1オブジェクトで完結させることが出来るようにするスクリプトです  
    縁取り部分の透明度も設定できます  
    グラデーションの強さを `0` にすれば、ただの透過縁取りとしても使えます  
    開始色, 終了色を空欄にすると、**色選択無し**の状態になります

    `rikky_module.dll` がこのスクリプトで読める場所にあれば、ファイル選択ダイアログが出せます  
    `rikkymodule&memory` を導入していない場合は、`\` をエスケープしてください

    - parameter
      - 縁取り, グラデーションのパラメータ各種
      - alpha : 縁取り部分の透明度

    - changelog
      - ver.2
        - obj.copybufferを使わないようにした
        - 画像データのキャッシュ数を `0` にしても機能するようにした

    </details>

### コントラスト比自動計算

- `コントラスト比自動計算.anm` / `コントラスト比自動計算.obj` / `contrast_ratio_cal.lua`

  - 字幕などの**色をコントラスト比を参考にしながら決める**ことができる
  - **客観的に見やすいよう**にできる
    - `コントラスト比自動計算.anm`
      - アンカー位置の色を取得して、コントラスト比を自動計算する
    - `コントラスト比自動計算.obj`
      - ダイアログで2色を指定して、コントラスト比を自動計算する

  - <details><summary>スクリプト内説明</summary>

    ---

    コントラスト比自動計算.anm / ver.1  
    Copyright (c) 2022 CaffemochaY

    アンカーで2色を取得して、その2つのコントラスト比を自動で計算するスクリプト  
    [WCAG 2.0](https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-procedure)基準で色のコントラスト比を計算する

    - parameter
      - 文字色 / 文字装飾色 : 色
      - 文字サイズ, フォント名, 文字装飾 : テキストのパラメータ
      - 文字不透明度 : 文字の不透明度
      - info : アンカー, コントラスト比の表示を設定
      - debug_print : debug_printに値を返すかの指定

    ---

    コントラスト比自動計算.obj / ver.1  
    Copyright (c) 2022 CaffemochaY

    ダイアログで2色を指定して、その2つのコントラスト比を自動で計算するスクリプト  
    [WCAG 2.0](https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-procedure)基準で色のコントラスト比を計算する

    - parameter
      - 文字色 / 背景色 : 色
      - 文字サイズ, フォント名, 文字装飾 : テキストのパラメータ
      - 背景margin : 文字の範囲から、どれだけ余白をとるかの指定
      - debug_print : debug_printに値を返すかの指定

    </details>
